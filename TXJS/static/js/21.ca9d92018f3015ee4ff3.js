webpackJsonp([21],{BB7a:function(t,e){},K31e:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o={name:"login",data:function(){return{show:!0,count:"",timer:null,phone:"",code:""}},methods:{sub:function(){var t=this;this.$http.post("/mobile-bind",{mobile:this.phone,scode:this.code}).then(function(e){"success"==e.status?t.$emit("next"):"fail"==e.status&&t.$emit("show",e.mess)}).catch(function(t){return console.log(t)})},getCode:function(){var t=this;this.phone?this.$http.post("/captcha-sms",{mobile:this.phone}).then(function(e){"success"==e.status?t._countdown():t.$emit("show",e.mess)}).catch(function(t){return console.log(t)}):this.$emit("show","手机号码不能为空")},_countdown:function(){var t=this;this.timer||(this.count=60,this.show=!1,this.timer=setInterval(function(){t.count>0&&t.count<=60?t.count--:(t.show=!0,clearInterval(t.timer),t.timer=null)},1e3))}}},n={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{staticClass:"login"},[s("div",{staticClass:"text"},[s("i",{staticClass:"icon-login_img_phone"}),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.phone,expression:"phone"}],attrs:{type:"text",placeholder:"请输入您的手机号"},domProps:{value:t.phone},on:{input:function(e){e.target.composing||(t.phone=e.target.value)}}})]),t._v(" "),s("div",{staticClass:"code"},[s("div",{staticClass:"text"},[s("i",{staticClass:"icon-login_img_sec"}),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.code,expression:"code"}],attrs:{type:"text",placeholder:"请输入验证码"},domProps:{value:t.code},on:{input:function(e){e.target.composing||(t.code=e.target.value)}}})]),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"show"}],staticClass:"btn o",on:{click:t.getCode}},[t._v("获取验证码")]),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:!t.show,expression:"!show"}],staticClass:"btn disabled"},[t._v(t._s(t.count)+" s")])]),t._v(" "),s("div",{staticClass:"btn x",on:{click:t.sub}},[t._v("下一步")])])},staticRenderFns:[]};var i=s("VU/8")(o,n,!1,function(t){s("BB7a")},"data-v-e1dd798c",null);e.default=i.exports}});
//# sourceMappingURL=21.ca9d92018f3015ee4ff3.js.map